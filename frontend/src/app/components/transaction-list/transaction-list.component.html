<div class="transaction-list-container">
  
  <!-- Loading state -->
  <div *ngIf="isLoading" class="loading-state">
    <p>Cargando transacciones...</p>
  </div>

  <!-- Empty state -->
  <div *ngIf="!isLoading && (!transactions || transactions.length === 0)" class="empty-state">
    <p>No hay transacciones en esta cuenta</p>
    <button class="btn-primary" (click)="onAddTransaction()">
      â• AÃ±adir primera transacciÃ³n
    </button>
  </div>

  <!-- Transaction list -->
  <div *ngIf="!isLoading && transactions && transactions.length > 0" class="transactions-list">
    
    <div 
      *ngFor="let transaction of transactions; let i = index"
      class="transaction-item"
      [class.income]="transaction.type === 'INCOME'"
      [class.expense]="transaction.type === 'EXPENSE'">
      
      <!-- Transaction icon -->
      <div class="transaction-icon">
        <span 
          class="icon" 
          [style.background-color]="transaction.category.color">
          {{ transaction.category.icon }}
        </span>
      </div>
      
      <!-- Transaction details -->
      <div class="transaction-details">
        <span class="transaction-title">{{ transaction.title }}</span>
        <span class="transaction-category">{{ transaction.category.name }}</span>
      </div>
      
      <!-- Transaction amount -->
      <div class="transaction-amount">
        <span 
          class="amount"
          [class.positive]="transaction.type === 'INCOME'"
          [class.negative]="transaction.type === 'EXPENSE'">
          {{ transaction.type === 'INCOME' ? '+' : '-' }}{{ transaction.amount | currency:'EUR':'symbol':'1.2-2' }}
        </span>
      </div>
      
      <!-- Transaction time/date -->
      <div class="transaction-time">
        <span class="time">{{ transaction.date | date:'HH:mm' }}</span>
        <span class="date">{{ transaction.date | date:'dd/M/yy' }}</span>
      </div>

      <!-- Transaction actions -->
      <div class="transaction-actions">
        <button class="btn-icon" (click)="onEditTransaction(transaction.id)">
        âœï¸
        </button>
        <button class="btn-icon" (click)="onDeleteTransaction(transaction.id)">
        ğŸ—‘ï¸
        </button>
      </div>
    </div>

    <!-- Transaction list -->
  <div *ngIf="!isLoading && transactions && transactions.length > 0" class="transactions-list">
    
    <!-- âœ… BotÃ³n para aÃ±adir mÃ¡s transacciones cuando la lista no estÃ¡ vacÃ­a -->
    <div class="add-more-transactions">
      <button class="btn-primary" (click)="onAddTransaction()">
        â• AÃ±adir TransacciÃ³n
      </button>
    </div>

    <!-- Show more button -->
    <div *ngIf="hasMoreTransactions" class="show-more-container">
      <button class="btn-secondary" (click)="onViewAllTransactions()">
        Ver todas las transacciones
      </button>
    </div>
    
  </div>
</div>